(this["webpackJsonpreact-tutorial"]=this["webpackJsonpreact-tutorial"]||[]).push([[0],{122:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(27),i=n.n(r),o=n(15),s=n(42),l=n(14),u=n(104),j=n(192),b=n(194),d=n(99),f=n.n(d),O=n(191),x=n(195),h=n(186),m=n(71),p=n.n(m),v=n(38),g=Object(v.b)({name:"favorites",initialState:{isShowing:!1,count:0,content:[]},reducers:{showAll:function(e){e.isShowing=!1},setFavorites:function(e,t){e.content=t.payload,e.count=t.payload.length},showFavorites:function(e){e.isShowing=!0},sortFavorites:function(e,t){e.content.sort(t.payload)}}}),y=g.actions,S=y.showAll,N=y.showFavorites,w=y.setFavorites,C=(y.sortFavorites,g.reducer),k=n(1);function Z(){var e=Object(o.c)((function(e){return e.favorites.count})),t=Object(o.b)(),n=Object(c.useCallback)((function(){t(N())}),[t]);return Object(k.jsx)(x.a,{onClick:n,color:"inherit","aria-label":"show-favorites",children:Object(k.jsx)(h.a,{badgeContent:e,color:"info",children:Object(k.jsx)(p.a,{})})})}var A=n(32),F=n(98),I=n.n(F),J=n(97),_=n.n(J),E={smallScreen:window.innerWidth<750,mode:"light"},M=Object(v.b)({name:"ui",initialState:E,reducers:{toggleSmallScreen:function(e,t){e.smallScreen=t.payload},changeMode:function(e,t){localStorage.setItem("theme",JSON.stringify(t.payload)),e.mode=t.payload}}}),z=M.actions,D=z.toggleSmallScreen,P=z.changeMode,L=M.reducer;function W(){var e=Object(A.a)(),t=Object(o.b)();return Object(k.jsx)(x.a,{onClick:function(){t(P("dark"===e.palette.mode?"light":"dark"))},color:"inherit","aria-label":"toggle-dark-mode",children:"dark"===e.palette.mode?Object(k.jsx)(_.a,{}):Object(k.jsx)(I.a,{})})}n(122);function T(){var e=Object(o.b)(),t=Object(l.f)(),n=Object(c.useCallback)((function(){t("/"),e(S())}),[t,e]);return Object(k.jsxs)(b.a,{className:"header",elevation:0,children:[Object(k.jsx)(O.a,{sx:{cursor:"pointer",display:"flex",justifyContent:"center"},onClick:n,children:"Countries Listed"}),Object(k.jsxs)("section",{className:"header__navigation",children:[Object(k.jsx)(x.a,{onClick:n,color:"inherit","aria-label":"go-to-home",children:Object(k.jsx)(f.a,{})}),Object(k.jsx)(Z,{}),Object(k.jsx)(W,{})]})]})}var B=n(196),Y=n(199),R=n(198),G=n(202),H=n(203),U=n(201);function X(){return Object(k.jsx)(U.a,{children:Object(k.jsxs)(G.a,{children:[Object(k.jsx)(H.a,{children:"Flag"}),Object(k.jsx)(H.a,{children:"Name"}),Object(k.jsx)(H.a,{children:"Region"}),Object(k.jsx)(H.a,{children:"Capital"}),Object(k.jsx)(H.a,{children:"Population"}),Object(k.jsx)(H.a,{children:"Favourites"})]})})}var q=n(204),K=n(89),Q=n.n(K),V=n(100),$=Object(v.b)({name:"favorites",initialState:{data:[],filterWord:"",loading:!0},reducers:{setData:function(e,t){e.data=t.payload,e.loading=!1},sortCountries:function(e,t){e.data.sort(t.payload)},setFilter:function(e,t){e.filterWord=t.payload}}}),ee=$.actions,te=ee.setData,ne=ee.sortCountries,ce=ee.setFilter,ae=$.reducer;function re(){return function(){var e=Object(V.a)(Q.a.mark((function e(t,n){var c,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n().countries.data.length>0)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("https://restcountries.com/v2/all");case 5:return c=e.sent,e.next=8,c.json();case 8:a=e.sent,t(te(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()}function ie(){return function(e){var t=localStorage.getItem("favorites");t?e(w(JSON.parse(t))):localStorage.setItem("favorites",JSON.stringify([]))}}function oe(e){var t=e.country,n=Object(o.c)((function(e){return e.favorites})),a=Object(o.b)();var r=Object(c.useMemo)((function(){return n.content.find((function(e){return e.name===t.name}))}),[n.content,t.name]);return Object(k.jsx)(x.a,{onClick:function(){var e,c=n.content.find((function(e){return e.name===t.name}));a(c?(e=t,function(t){var n=localStorage.getItem("favorites");if(n){var c=JSON.parse(n),a=c.map((function(e){return e.name})).indexOf(e.name);c.splice(a,1),localStorage.setItem("favorites",JSON.stringify(c)),t(w(c))}}):function(e){return function(t){var n=localStorage.getItem("favorites");if(n){var c=JSON.parse(n);c.push(e),localStorage.setItem("favorites",JSON.stringify(c)),t(w(c))}}}(t))},color:"inherit","aria-label":"mark-as-favorite",children:Object(k.jsx)(p.a,{color:r?"error":"inherit"})})}n(93);function se(e){var t=e.country;return Object(k.jsxs)(G.a,{children:[Object(k.jsx)(H.a,{children:Object(k.jsx)("img",{src:t.flag,alt:"flag of ".concat(t.name),style:{width:"40px",height:"30px"}})}),Object(k.jsx)(H.a,{children:Object(k.jsx)(s.b,{to:"/".concat(t.name),className:"country-link",children:Object(k.jsx)(O.a,{children:t.name})})}),Object(k.jsx)(H.a,{children:t.region}),Object(k.jsx)(H.a,{children:t.capital}),Object(k.jsx)(H.a,{children:t.population}),Object(k.jsx)(H.a,{align:"center",children:Object(k.jsx)(oe,{country:t})})]})}function le(){var e=Object(o.c)((function(e){return e.countries})),t=Object(o.c)((function(e){return e.favorites})),n=e.filterWord,a=Object(o.b)(),r=Object(c.useMemo)((function(){return(t.isShowing?t.content:e.data).filter((function(e){var t,c,a;return(null===(t=e.name)||void 0===t?void 0:t.includes(n))||(null===(c=e.region)||void 0===c?void 0:c.includes(n))||(null===(a=e.capital)||void 0===a?void 0:a.includes(n))}))}),[t,e,n]);return Object(c.useEffect)((function(){a(re()),a(ie())}),[a]),Object(k.jsx)(k.Fragment,{children:r.length>0?Object(k.jsx)(q.a,{sx:{fontSize:"large"},children:r.map((function(e){return Object(k.jsx)(se,{country:e},e.name)}))}):Object(k.jsx)(k.Fragment,{})})}n(124);function ue(){var e=Object(o.c)((function(e){return e.ui.mode})),t=Object(c.useMemo)((function(){return"dark"===e?{backgroundColor:"rgb(255, 255, 155)"}:{backgroundColor:"rgb(0,0,0)"}}),[e]);return Object(k.jsxs)(b.a,{elevation:0,sx:{mt:5,display:"flex",justifyContent:"center",width:"100%"},children:[Object(k.jsx)(b.a,{className:"pillar one",sx:t}),Object(k.jsx)(b.a,{className:"pillar two",sx:t}),Object(k.jsx)(b.a,{className:"pillar three",sx:t})]})}function je(){var e=Object(o.c)((function(e){return e.countries})),t=Object(o.c)((function(e){return e.favorites})),n=e.filterWord,a=Object(o.b)(),r=Object(c.useMemo)((function(){return(t.isShowing?t.content:e.data).filter((function(e){var t,c,a;return(null===(t=e.name)||void 0===t?void 0:t.includes(n))||(null===(c=e.region)||void 0===c?void 0:c.includes(n))||(null===(a=e.capital)||void 0===a?void 0:a.includes(n))}))}),[t,e,n]);return Object(c.useEffect)((function(){a(re()),a(ie())}),[a]),Object(k.jsx)(k.Fragment,{children:r.length>0?Object(k.jsx)(B.a,{sx:{display:"flex",flexWrap:"wrap",gap:"10px",p:0,mt:2},children:r.map((function(e){return Object(k.jsxs)(b.a,{sx:{display:"flex",flexDirection:"column",gap:"6px",flexGrow:1,px:3,py:2},elevation:1,children:[Object(k.jsx)("img",{src:e.flag,alt:"flag of ".concat(e.name),style:{width:"40px",height:"30px"}}),Object(k.jsx)(s.b,{to:"/".concat(e.name),className:"country-link",children:Object(k.jsx)(O.a,{children:e.name})})]},e.name)}))}):Object(k.jsx)(k.Fragment,{})})}function be(){var e=Object(o.c)((function(e){return e.countries.loading})),t=Object(o.b)(),n=Object(o.c)((function(e){return e.ui.smallScreen})),a=Object(c.useCallback)((function(){window.innerWidth<750?t(D(!0)):t(D(!1))}),[t]);return Object(c.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[a]),Object(k.jsxs)(k.Fragment,{children:[n?Object(k.jsx)(je,{}):Object(k.jsx)(R.a,{component:b.a,elevation:0,sx:{overflowX:"initial",tableLayout:"fixed"},children:Object(k.jsxs)(Y.a,{stickyHeader:!0,children:[Object(k.jsx)(X,{}),Object(k.jsx)(le,{})]})}),e?Object(k.jsx)(ue,{}):Object(k.jsx)(k.Fragment,{})]})}var de=n(13),fe=n(101),Oe=n.n(fe),xe=n(20);function he(){var e=Object(c.useState)(""),t=Object(de.a)(e,2),n=t[0],a=t[1],r=Object(o.b)(),i=Object(A.a)(),s=Object(c.useCallback)((function(e){e.preventDefault(),r(ce(n))}),[r,n]),l=Object(c.useCallback)((function(e){a(e.target.value),r(ce(e.target.value))}),[r]);return Object(k.jsxs)(b.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",fontSize:"1.5rem",width:"100%",mb:"2rem",border:"1px solid orange"},className:"search-form",elevation:"light"===i.palette.mode?0:5,onSubmit:s,children:[Object(k.jsx)(x.a,{type:"submit",sx:{p:"10px"},"aria-label":"search",children:Object(k.jsx)(Oe.a,{})}),Object(k.jsx)(xe.c,{sx:{ml:1,flex:1},placeholder:"Search by name, region or capital",inputProps:{"aria-label":"Search by name, region or capital"},value:n,onChange:l})]})}var me=n(200),pe=n(190),ve=n(187),ge=n(184),ye={byNameAtoZ:function(e,t){return e.name.localeCompare(t.name)},byNameZtoA:function(e,t){return t.name.localeCompare(e.name)},byCapitalAtoZ:function(e,t){return(e.capital||"ZZZZZ").localeCompare(t.capital||"ZZZZ")},byCapitalZtoA:function(e,t){return(t.capital||"ZZZZZ").localeCompare(e.capital||"ZZZZ")},byPopulationAsc:function(e,t){return e.population-t.population},byPopulationDesc:function(e,t){return t.population-e.population}};function Se(){var e=Object(c.useState)((function(){return"byNameAtoZ"})),t=Object(de.a)(e,2),n=t[0],a=t[1],r=Object(o.b)(),i=Object(c.useCallback)((function(e){var t=e.target.value;r(ne(ye[t])),a(t)}),[r]);return Object(k.jsxs)(me.a,{children:[Object(k.jsx)(pe.a,{id:"sort-countries-by-label",children:"Sort"}),Object(k.jsxs)(ge.a,{labelId:"sort-countries-by",id:"sort-countries-by-options",value:n,label:"sort",onChange:i,children:[Object(k.jsx)(ve.a,{value:"byNameAtoZ",children:"Name (A-Z)"}),Object(k.jsx)(ve.a,{value:"byNameZtoA",children:"Name (Z-A)"}),Object(k.jsx)(ve.a,{value:"byCapitalAtoZ",children:"Capital (A-Z)"}),Object(k.jsx)(ve.a,{value:"byCapitalZtoA",children:"Capital (Z-A)"}),Object(k.jsx)(ve.a,{value:"byPopulationAsc",children:"Population (Asc)"}),Object(k.jsx)(ve.a,{value:"byPopulationDesc",children:"Population (desc)"})]})]})}var Ne=n(102),we=n.n(Ne);function Ce(){var e=Object(c.useState)(!1),t=Object(de.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)((function(){window.pageYOffset>300?a(!0):a(!1)}),[]),i=Object(c.useCallback)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]);return Object(c.useEffect)((function(){return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}}),[r]),n?Object(k.jsx)(x.a,{onClick:i,sx:{right:0,bottom:0,position:"fixed"},size:"large",children:Object(k.jsx)(we.a,{color:"info"})}):Object(k.jsx)(k.Fragment,{})}n(94);function ke(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(B.a,{className:"intro",id:"top",children:[Object(k.jsx)("h1",{className:"intro__header",children:"COUNTRY DATA"}),Object(k.jsx)("span",{className:"intro__description",children:"Detailed info of each country"})]}),Object(k.jsx)(he,{}),Object(k.jsx)(Se,{}),Object(k.jsx)(be,{}),Object(k.jsx)(Ce,{})]})}var Ze=n(188),Ae=n(205),Fe=n(206),Ie=n(103),Je=n.n(Ie);function _e(e){var t=e.field,n=e.value;return Object(k.jsxs)(Ze.a,{children:[Object(k.jsx)(Ae.a,{expandIcon:Object(k.jsx)(Je.a,{}),children:Object(k.jsx)(O.a,{children:t})}),Object(k.jsx)(Fe.a,{sx:{textAlign:"left"},children:Object(k.jsx)(O.a,{children:n.map((function(e){return Object(k.jsxs)("span",{children:[e," ",Object(k.jsx)("br",{})]},e)}))})})]})}function Ee(e){var t=e.country;return Object(k.jsx)("img",{src:t.flag,alt:"Flag of ".concat(t.name),className:"flag"})}var Me=n(193);function ze(){var e=Object(l.f)();return Object(k.jsx)(Me.a,{variant:"contained",onClick:function(){e("/")},sx:{mt:1,width:"100%"},size:"large",color:"success",children:"Back"})}n(125);function De(e){var t=e.country,n=Object(c.useMemo)((function(){return t.languages?t.languages.map((function(e){return e.name})):["N/A"]}),[t.languages]),a=Object(c.useMemo)((function(){return t.currencies?t.currencies.map((function(e){return e.name})):["N/A"]}),[t.currencies]),r=Object(c.useMemo)((function(){return t.timezones.length>0?t.timezones:["N/A"]}),[t.timezones]);return Object(k.jsxs)(b.a,{elevation:0,className:"country-card",children:[Object(k.jsx)(Ee,{country:t}),Object(k.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2,pl:1,pr:1.5},children:[Object(k.jsx)("span",{children:t.name}),Object(k.jsx)(oe,{country:t})]}),Object(k.jsx)(_e,{field:"Native name",value:[t.nativeName||"N/A"]}),Object(k.jsx)(_e,{field:"region",value:[t.region]}),Object(k.jsx)(_e,{field:"capital",value:[t.capital||"N/A"]}),Object(k.jsx)(_e,{field:"Population",value:[t.population+""]}),Object(k.jsx)(_e,{field:"Languages",value:n}),Object(k.jsx)(_e,{field:"Currencies",value:a}),Object(k.jsx)(_e,{field:"Time Zones",value:r}),Object(k.jsx)(_e,{field:"Borders",value:t.borders?t.borders:["N/A"]}),Object(k.jsx)(ze,{})]})}function Pe(){var e=Object(o.c)((function(e){return e.countries})),t=Object(l.g)().country_name,n=e.data.find((function(e){return e.name===t}));return Object(k.jsx)(b.a,{className:"country-page",elevation:0,children:Object(k.jsx)(De,{country:n})})}var Le=n(197);n(126);function We(){return Object(k.jsx)(b.a,{className:"footer",elevation:0,children:Object(k.jsxs)(O.a,{children:["Developed by",Object(k.jsxs)(Le.a,{href:"https://yahyasalimi.netlify.app",underline:"hover",color:"inherit",target:"_blank",children:[" ","Yahya Salimi"]})]})})}n(127);var Te=function(){var e=Object(o.c)((function(e){return e.ui.mode})),t=Object(o.b)();Object(c.useEffect)((function(){t((function(e){var t=localStorage.getItem("theme");t?e(P(JSON.parse(t))):(localStorage.setItem("theme",JSON.stringify("light")),e(P("light")))}))}),[t]);var n=Object(u.a)({palette:{mode:e}});return Object(k.jsx)(j.a,{theme:n,children:Object(k.jsx)(b.a,{className:"App",elevation:0,children:Object(k.jsxs)(b.a,{className:"App__content",elevation:0,children:[Object(k.jsx)(T,{}),Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{path:"/",element:Object(k.jsx)(ke,{})}),Object(k.jsx)(l.a,{path:"/:country_name",element:Object(k.jsx)(Pe,{})})]}),Object(k.jsx)(We,{})]})})})},Be={favorites:C,countries:ae,ui:L},Ye=Object(v.a)({reducer:Be});n(128);i.a.render(Object(k.jsx)(o.a,{store:Ye,children:Object(k.jsx)(s.a,{children:Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Te,{})})})}),document.getElementById("root"))},93:function(e,t,n){},94:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.891ba2a0.chunk.js.map